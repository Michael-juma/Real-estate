<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Find Your Dream Property - HOMIA Kenya</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        :root {
            --primary-orange: #FF6B35;
            --dark-text: #1a1a1a;
            --light-gray: #f5f5f5;
            --medium-gray: #666;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            color: var(--dark-text);
            background: white;
        }

        /* Navigation */
        .navbar {
            background: white;
            padding: 1.5rem 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .navbar-brand {
            font-weight: 800;
            font-size: 1.5rem;
            color: var(--dark-text);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .navbar-brand i {
            color: var(--primary-orange);
        }

        .nav-link {
            color: var(--dark-text);
            font-weight: 500;
            margin: 0 1rem;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: var(--primary-orange);
        }

        .btn-contact {
            background: var(--primary-orange);
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
        }

        .btn-contact:hover {
            background: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 53, 0.3);
        }

        /* Updated Navigation Styles */
        .navbar-contact {
            display: flex;
            align-items: center;
            gap: 1.5rem;
        }

        .navbar-contact .contact-info {
            font-weight: 500;
            color: var(--dark-text);
            display: flex;
            align-items: center;
        }

        .navbar-contact .btn-contact {
            padding: 0.75rem 1.5rem;
            font-size: 0.9rem;
        }


        /* Hero Section */
        .hero-section {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            padding: 4rem 0 6rem;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            right: -10%;
            top: 0;
            width: 50%;
            height: 100%;
            background: var(--primary-orange);
            clip-path: polygon(30% 0, 100% 0, 100% 100%, 0% 100%);
            opacity: 0.1;
        }

        .hero-content {
            position: relative;
            z-index: 2;
        }

        .hero-title {
            font-size: 4rem;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1.5rem;
            color: var(--dark-text);
        }

        .hero-subtitle {
            font-size: 1.1rem;
            color: var(--medium-gray);
            margin-bottom: 2rem;
            max-width: 500px;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            margin-bottom: 3rem;
        }

        .btn-primary-orange {
            background: var(--primary-orange);
            color: white;
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .btn-primary-orange:hover {
            background: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(255, 107, 53, 0.4);
        }

        .btn-secondary-outline {
            background: transparent;
            color: var(--dark-text);
            border: 2px solid var(--dark-text);
            padding: 1rem 2.5rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s;
        }

        .btn-secondary-outline:hover {
            background: var(--dark-text);
            color: white;
        }

        /* Hero Stats */
        .hero-stats-wrapper {
            display: flex;
            align-items: center;
            gap: 2rem;
            margin-top: 2rem;
        }

        .hero-reviews {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .review-avatars {
            display: flex;
            margin-left: -10px;
        }

        .review-avatar {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 3px solid white;
            margin-left: -10px;
            object-fit: cover;
        }

        .review-stars {
            color: #FFB800;
            font-size: 1.2rem;
            margin-bottom: 0.25rem;
        }

        .review-text {
            font-size: 0.9rem;
            color: var(--medium-gray);
            font-weight: 500;
        }

        .hero-stats {
            display: flex;
            gap: 3rem;
        }

        .stat-item {
            text-align: left;
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--dark-text);
            display: block;
            line-height: 1;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--medium-gray);
            font-weight: 500;
        }

        /* Hero Image */
        .hero-image-container {
            position: relative;
            height: 500px;
        }

        .hero-property-image {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%) rotate(-2deg);
            width: 90%;
            height: 400px;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.2);
            transition: transform 0.3s;
        }

        .hero-property-image:hover {
            transform: translateY(-50%) rotate(0deg) scale(1.02);
        }

        .hero-property-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Search Section */
        .search-section {
            background: white;
            padding: 3rem 0;
            border-bottom: 1px solid #e9ecef;
        }

        .search-box {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.08);
        }

        .form-control, .form-select {
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 0.875rem 1rem;
            font-size: 0.95rem;
            transition: all 0.3s;
        }

        .form-control:focus, .form-select:focus {
            border-color: var(--primary-orange);
            box-shadow: 0 0 0 0.2rem rgba(255, 107, 53, 0.15);
        }

        .form-label {
            font-weight: 600;
            color: var(--dark-text);
            margin-bottom: 0.5rem;
            font-size: 0.9rem;
        }

        /* Properties Section */
        .properties-section {
            padding: 4rem 0;
            background: #fafafa;
        }

        .section-header {
            margin-bottom: 3rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
        }

        .section-subtitle {
            color: var(--medium-gray);
            font-size: 1.1rem;
        }

        /* Filter Sidebar */
        .filter-sidebar {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 5px 20px rgba(0,0,0,0.06);
            position: sticky;
            top: 100px;
            max-height: calc(100vh - 120px);
            overflow-y: auto;
        }

        .filter-title {
            font-size: 1.3rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--dark-text);
        }

        .filter-group {
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e9ecef;
        }

        .filter-group:last-child {
            border-bottom: none;
        }

        .filter-group-title {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--dark-text);
        }

        /* Price Range Slider */
        .range-slider {
            height: 6px;
            position: relative;
            background-color: #e9ecef;
            border-radius: 3px;
            margin: 2rem 0 1rem;
        }

        .range-selected {
            height: 100%;
            left: 25%;
            right: 25%;
            position: absolute;
            border-radius: 3px;
            background: var(--primary-orange);
        }

        .range-input {
            position: relative;
        }

        .range-input input {
            position: absolute;
            width: 100%;
            height: 6px;
            top: -6px;
            background: none;
            pointer-events: none;
        }

        .range-input input::-webkit-slider-thumb {
            height: 20px;
            width: 20px;
            border-radius: 50%;
            border: 3px solid var(--primary-orange);
            background-color: #fff;
            pointer-events: auto;
            -webkit-appearance: none;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);
        }

        .range-input input::-moz-range-thumb {
            height: 20px;
            width: 20px;
            border-radius: 50%;
            border: 3px solid var(--primary-orange);
            background-color: #fff;
            pointer-events: auto;
            -moz-appearance: none;
            cursor: pointer;
            box-shadow: 0 2px 8px rgba(255, 107, 53, 0.3);
        }

        .range-price {
            margin-top: 2rem;
            display: flex;
            justify-content: space-between;
            font-weight: 600;
            color: var(--dark-text);
        }

        /* Filter Buttons */
        .filter-btn-group {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 0.5rem;
        }

        .filter-btn {
            padding: 0.75rem;
            border: 2px solid #e9ecef;
            background: white;
            border-radius: 8px;
            font-weight: 600;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .filter-btn:hover {
            border-color: var(--primary-orange);
            color: var(--primary-orange);
        }

        .filter-btn.active {
            background: var(--primary-orange);
            border-color: var(--primary-orange);
            color: white;
        }

        .btn-check:checked + .filter-btn {
            background: var(--primary-orange);
            border-color: var(--primary-orange);
            color: white;
        }

        /* Checkboxes */
        .form-check {
            margin-bottom: 0.75rem;
        }

        .form-check-input {
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid #e9ecef;
            border-radius: 4px;
            cursor: pointer;
        }

        .form-check-input:checked {
            background-color: var(--primary-orange);
            border-color: var(--primary-orange);
        }

        .form-check-label {
            margin-left: 0.5rem;
            font-weight: 500;
            cursor: pointer;
        }

        /* Property Cards */
        .property-card {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.08);
            transition: all 0.3s;
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        .property-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.12);
        }

        .property-image {
            height: 240px;
            background-size: cover;
            background-position: center;
            position: relative;
        }

        .property-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--primary-orange);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .property-favorite {
            position: absolute;
            top: 15px;
            left: 15px;
            background: rgba(255, 255, 255, 0.95);
            color: #ff4757;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1rem;
        }

        .property-favorite:hover {
            background: white;
            transform: scale(1.1);
        }

        .property-favorite.active {
            background: #ff4757;
            color: white;
        }

        .property-info {
            padding: 1.75rem;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }

        .property-price {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--primary-orange);
            margin-bottom: 0.75rem;
        }

        .property-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--dark-text);
        }

        .property-address {
            color: var(--medium-gray);
            font-size: 0.95rem;
            margin-bottom: 1.25rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .property-features {
            display: flex;
            gap: 1.5rem;
            padding: 1.25rem 0;
            border-top: 1px solid #e9ecef;
            border-bottom: 1px solid #e9ecef;
            margin-bottom: 1.25rem;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: var(--dark-text);
            font-weight: 600;
        }

        .feature-icon {
            color: var(--primary-orange);
            font-size: 1rem;
        }

        .property-amenities {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1.25rem;
        }

        .amenity-badge {
            background: #fff5f2;
            color: var(--primary-orange);
            padding: 6px 12px;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .btn-view-details {
            background: var(--dark-text);
            color: white;
            border: none;
            padding: 0.875rem;
            border-radius: 8px;
            font-weight: 600;
            transition: all 0.3s;
            margin-top: auto;
        }

        .btn-view-details:hover {
            background: var(--primary-orange);
            transform: translateY(-2px);
        }

        /* Property Count & Sort */
        .properties-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding: 1.5rem;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .property-count {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--dark-text);
        }

        .property-count span {
            color: var(--primary-orange);
        }

        .sort-wrapper {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .sort-label {
            font-weight: 600;
            color: var(--dark-text);
        }

        .sort-select {
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 0.625rem 1rem;
            font-weight: 500;
            min-width: 200px;
        }

        /* Modal Styles */
        .property-modal .modal-dialog {
            max-width: 1000px;
        }

        .property-modal .modal-content {
            border-radius: 20px;
            overflow: hidden;
            border: none;
        }

        .property-gallery {
            position: relative;
            height: 450px;
            background: #000;
        }

        .gallery-main-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(255, 255, 255, 0.95);
            border: none;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 10;
            color: var(--dark-text);
            font-size: 1.2rem;
        }

        .gallery-nav:hover {
            background: white;
            transform: translateY(-50%) scale(1.1);
            color: var(--primary-orange);
        }

        .gallery-nav.prev {
            left: 20px;
        }

        .gallery-nav.next {
            right: 20px;
        }

        .room-label {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 10px;
            font-size: 1rem;
            font-weight: 600;
        }

        .gallery-thumbnails {
            display: flex;
            gap: 12px;
            padding: 20px;
            overflow-x: auto;
            background: #f8f9fa;
        }

        .gallery-thumbnail {
            width: 120px;
            height: 90px;
            object-fit: cover;
            border-radius: 10px;
            cursor: pointer;
            border: 3px solid transparent;
            transition: all 0.3s;
            flex-shrink: 0;
        }

        .gallery-thumbnail:hover,
        .gallery-thumbnail.active {
            border-color: var(--primary-orange);
            transform: scale(1.05);
        }

        .property-details-content {
            padding: 2.5rem;
        }

        .modal-property-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 2px solid #e9ecef;
        }

        .modal-property-price {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--primary-orange);
            margin-bottom: 0.5rem;
        }

        .modal-property-title {
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }

        .modal-property-location {
            color: var(--medium-gray);
            font-size: 1.1rem;
        }

        .detail-section {
            margin-bottom: 2.5rem;
        }

        .detail-section h5 {
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--dark-text);
            font-size: 1.3rem;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 1rem;
        }

        .feature-box {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 12px;
            font-weight: 600;
        }

        .feature-box i {
            color: var(--primary-orange);
            margin-right: 12px;
            font-size: 1.5rem;
        }

        .amenities-list {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
        }

        .amenity-tag {
            background: #fff5f2;
            color: var(--primary-orange);
            padding: 10px 18px;
            border-radius: 10px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .contact-agent-box {
            background: linear-gradient(135deg, var(--primary-orange) 0%, #e55a2b 100%);
            color: white;
            padding: 2rem;
            border-radius: 15px;
            text-align: center;
        }

        .contact-agent-box h5 {
            color: white;
            margin-bottom: 1rem;
            font-size: 1.5rem;
        }

        .btn-contact-agent {
            background: white;
            color: var(--primary-orange);
            border: none;
            padding: 1rem 2.5rem;
            border-radius: 10px;
            font-weight: 700;
            transition: all 0.3s;
            font-size: 1.1rem;
        }

        .btn-contact-agent:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }

        /* Animations */
        .love-reaction {
            position: absolute;
            font-size: 1.8rem;
            pointer-events: none;
            animation: floatUp 2s ease-out forwards;
            z-index: 100;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0.5) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: translateY(-60px) scale(1.3) rotate(20deg);
            }
            100% {
                opacity: 0;
                transform: translateY(-120px) scale(0.8) rotate(-20deg);
            }
        }

        /* Responsive */
        @media (max-width: 992px) {
            .hero-title {
                font-size: 3rem;
            }
            
            .hero-stats {
                flex-direction: column;
                gap: 1.5rem;
            }

            .filter-sidebar {
                position: relative;
                top: 0;
                max-height: none;
                margin-bottom: 2rem;
            }

            .hero-property-image {
                position: relative;
                transform: none;
                width: 100%;
                margin-top: 2rem;
            }

            .hero-property-image:hover {
                transform: scale(1.02);
            }
        }

        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.5rem;
            }

            .hero-buttons {
                flex-direction: column;
            }

            .properties-header {
                flex-direction: column;
                gap: 1rem;
                align-items: flex-start;
            }

            .filter-btn-group {
                grid-template-columns: repeat(2, 1fr);
            }
            .navbar-contact {
                margin-top: 1rem;
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
     Navigation 
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-home"></i>
                <span>HOMIA</span>
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav mx-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">
                            <i class="fas fa-home me-1"></i>HOME
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#about">ABOUT</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="properties.html">PROPERTIES</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#blog">BLOG</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index.html#contact">CONTACT</a>
                    </li>
                </ul>
                <div class="navbar-contact">
                    <span class="contact-info">
                        <i class="fas fa-phone me-1"></i>(254) 712-345678
                    </span>
                    <button class="btn-contact">
                        <i class="fas fa-plus me-1"></i>Add Listing
                    </button>
                </div>
            </div>
        </div>
    </nav>

     Hero Section 
    <section class="hero-section" style="margin-top: 76px;">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content">
                        <h1 class="hero-title">FIND YOUR DREAM HOME</h1>
                        <p class="hero-subtitle">
                            Discover premium properties in the best locations, tailored to your lifestyle and budget. Whether you're buying, selling, or investing, we connect you with opportunities that feel like home.
                        </p>
                        <div class="hero-buttons">
                            <button class="btn-primary-orange" onclick="document.querySelector('.search-section').scrollIntoView({behavior: 'smooth'})">
                                Are you the one?
                            </button>
                            <button class="btn-secondary-outline" onclick="document.querySelector('.properties-section').scrollIntoView({behavior: 'smooth'})">
                                Request Floor Plan
                            </button>
                        </div>
                        <div class="hero-stats-wrapper">
                            <div class="hero-reviews">
                                <div class="review-avatars">
                                    <img src="https://i.pravatar.cc/150?img=1" alt="User" class="review-avatar">
                                    <img src="https://i.pravatar.cc/150?img=2" alt="User" class="review-avatar">
                                    <img src="https://i.pravatar.cc/150?img=3" alt="User" class="review-avatar">
                                </div>
                                <div>
                                    <div class="review-stars">
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                        <i class="fas fa-star"></i>
                                    </div>
                                    <div class="review-text">20k+ Total Reviews</div>
                                </div>
                            </div>
                        </div>
                        <div class="hero-stats">
                            <div class="stat-item">
                                <span class="stat-number">72k+</span>
                                <span class="stat-label">Happy Customers</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">28k+</span>
                                <span class="stat-label">Top Property</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-number">10+</span>
                                <span class="stat-label">Years Experience</span>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-6">
                    <div class="hero-image-container">
                        <div class="hero-property-image">
                            <img src="https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800" alt="Dream Home">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

     Search Section 
    <section class="search-section">
        <div class="container">
            <div class="search-box">
                <form id="property-search-form">
                    <div class="row g-3">
                        <div class="col-lg-3 col-md-6">
                            <label class="form-label">Location</label>
                            <input type="text" class="form-control" name="location" placeholder="e.g., Nairobi, Mombasa">
                        </div>
                        <div class="col-lg-3 col-md-6">
                            <label class="form-label">Property Type</label>
                            <select class="form-select" name="type">
                                <option value="">Any Type</option>
                                <option value="house">House</option>
                                <option value="apartment">Apartment</option>
                                <option value="villa">Villa</option>
                                <option value="office">Office</option>
                                <option value="penthouse">Penthouse</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-6">
                            <label class="form-label">Status</label>
                            <select class="form-select" name="status">
                                <option value="">Any Status</option>
                                <option value="for-sale">For Sale</option>
                                <option value="for-rent">For Rent</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-6">
                            <label class="form-label">Price Range</label>
                            <select class="form-select" name="price">
                                <option value="">Any Price</option>
                                <option value="0-10000000">KES 0 - 10M</option>
                                <option value="10000000-30000000">KES 10M - 30M</option>
                                <option value="30000000-50000000">KES 30M - 50M</option>
                                <option value="50000000+">KES 50M+</option>
                            </select>
                        </div>
                        <div class="col-lg-2 col-md-12">
                            <label class="form-label">&nbsp;</label>
                            <button type="submit" class="btn-primary-orange w-100">
                                <i class="fas fa-search me-2"></i>Search
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </section>

     Properties Section 
    <section class="properties-section">
        <div class="container">
            <div class="section-header text-center">
                <h2 class="section-title">DISCOVER OUR PROPERTIES</h2>
                <p class="section-subtitle">
                    Every property reflects innovation, functionality, and people-first design—transforming spaces from abstract ideas to inspiring environments.
                </p>
            </div>

            <div class="row">
                
                 Properties List 
                <div class="col-12">
                    <div class="properties-header">
                        <div class="property-count">
                            <span id="property-count">0</span> Properties Found
                        </div>
                        <div class="sort-wrapper">
                            <span class="sort-label">Sort by:</span>
                            <select class="sort-select" id="sort-properties">
                                <option value="newest">Newest</option>
                                <option value="price-asc">Price (Low to High)</option>
                                <option value="price-desc">Price (High to Low)</option>
                                <option value="size-asc">Size (Small to Large)</option>
                                <option value="size-desc">Size (Large to Small)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="row g-4 justify-content-center" id="properties-container">
                         Properties will be loaded here 
                    </div>
                </div>
            </div>
        </div>
    </section>

     Property Details Modal 
    <div class="modal fade property-modal" id="propertyModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body p-0">
                     Gallery Section 
                    <div class="property-gallery">
                        <button class="gallery-nav prev" onclick="changeGalleryImage(-1)">
                            <i class="fas fa-chevron-left"></i>
                        </button>
                        <img id="galleryMainImage" class="gallery-main-image" src="/placeholder.svg" alt="Property">
                        <div class="room-label" id="roomLabel">Living Room</div>
                        <button class="gallery-nav next" onclick="changeGalleryImage(1)">
                            <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                    <div class="gallery-thumbnails" id="galleryThumbnails"></div>
                    
                     Property Details 
                    <div class="property-details-content">
                        <div class="modal-property-header">
                            <div>
                                <h3 id="modalPropertyTitle" class="modal-property-title"></h3>
                                <p class="modal-property-location">
                                    <i class="fas fa-map-marker-alt me-2"></i>
                                    <span id="modalPropertyLocation"></span>
                                </p>
                            </div>
                            <div class="text-end">
                                <div class="modal-property-price" id="modalPropertyPrice"></div>
                                <span class="badge bg-success" id="modalPropertyStatus"></span>
                            </div>
                        </div>

                         Key Features 
                        <div class="detail-section">
                            <h5>Key Features</h5>
                            <div class="features-grid" id="modalFeatures"></div>
                        </div>

                         Description 
                        <div class="detail-section">
                            <h5>Description</h5>
                            <p class="text-muted" id="modalDescription">
                                This stunning property offers modern living at its finest. With spacious rooms, 
                                high-quality finishes, and excellent amenities, it's perfect for families or 
                                professionals looking for comfort and convenience in Kenya's prime locations.
                            </p>
                        </div>

                         Amenities 
                        <div class="detail-section">
                            <h5>Amenities & Features</h5>
                            <div class="amenities-list" id="modalAmenities"></div>
                        </div>

                         Contact Agent 
                        <div class="contact-agent-box">
                            <h5>Interested in this property?</h5>
                            <p class="mb-3">Contact our agent for more information or to schedule a viewing</p>
                            <button class="btn-contact-agent">
                                <i class="fas fa-phone me-2"></i>Contact Agent
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let properties = [];
        let filteredProperties = [];
        let currentPropertyImages = [];
        let currentImageIndex = 0;

        // Sample Kenyan properties data
        const sampleProperties = [
            {
                id: 1,
                title: "Luxury Villa in Karen",
                location: "Karen, Nairobi",
                price: 45000000,
                bedrooms: 5,
                bathrooms: 4,
                area: 3500,
                type: "villa",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800",
                amenities: ["Swimming Pool", "Garden", "Garage", "Security", "Modern Kitchen", "Dining Room"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1613490493576-7fde63acd811?w=800", label: "Exterior View" },
                    { url: "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800", label: "Living Room" },
                    { url: "https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=800", label: "Master Bedroom" },
                    { url: "https://images.unsplash.com/photo-1552321554-5fefe8c9ef14?w=800", label: "Modern Kitchen" },
                    { url: "https://images.unsplash.com/photo-1620626011761-996317b8d101?w=800", label: "Bathroom" },
                    { url: "https://images.unsplash.com/photo-1600507016850-098187087111?w=800", label: "Dining Room" },
                    { url: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", label: "Swimming Pool" },
                    { url: "https://images.unsplash.com/photo-1585128903994-03b9e8e2d8e0?w=800", label: "Garden" }
                ]
            },
            {
                id: 2,
                title: "Modern Apartment in Westlands",
                location: "Westlands, Nairobi",
                price: 18000000,
                bedrooms: 3,
                bathrooms: 2,
                area: 1800,
                type: "apartment",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800",
                amenities: ["Security", "Modern Kitchen", "Parking", "Balcony"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1545324418-cc1a3fa10c00?w=800", label: "Building Exterior" },
                    { url: "https://images.unsplash.com/photo-1502672260066-6bc35f0a1f80?w=800", label: "Living Area" },
                    { url: "https://images.unsplash.com/photo-1540518614846-7eded433c457?w=800", label: "Bedroom" },
                    { url: "https://images.unsplash.com/photo-1556911220-a765f8680818?w=800", label: "Kitchen" },
                    { url: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=800", label: "Bathroom" },
                    { url: "https://images.unsplash.com/photo-1600210491892-03d54c0aaf87?w=800", label: "Balcony View" }
                ]
            },
            {
                id: 3,
                title: "Beachfront Villa in Diani",
                location: "Diani Beach, Mombasa",
                price: 65000000,
                bedrooms: 6,
                bathrooms: 5,
                area: 4200,
                type: "villa",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800",
                amenities: ["Swimming Pool", "Garden", "Beach Access", "Security", "Modern Kitchen", "Dining Room", "Garage"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800", label: "Beach View" },
                    { url: "https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=800", label: "Villa Exterior" },
                    { url: "https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=800", label: "Living Room" },
                    { url: "https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=800", label: "Master Suite" },
                    { url: "https://images.unsplash.com/photo-1556911220-bff31c812dba?w=800", label: "Gourmet Kitchen" },
                    { url: "https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=800", label: "Dining Area" },
                    { url: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", label: "Pool Area" },
                    { url: "https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800", label: "Beach Access" }
                ]
            },
            {
                id: 4,
                title: "Executive Office Space",
                location: "Upper Hill, Nairobi",
                price: 8500000,
                bedrooms: 0,
                bathrooms: 2,
                area: 1200,
                type: "office",
                status: "for-rent",
                image: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=800",
                amenities: ["Security", "Parking", "Conference Room", "Reception Area"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1497366216548-37526070297c?w=800", label: "Office Building" },
                    { url: "https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=800", label: "Open Office Space" },
                    { url: "https://images.unsplash.com/photo-1524758631624-e2822e304c36?w=800", label: "Conference Room" },
                    { url: "https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=800", label: "Reception Area" },
                    { url: "https://images.unsplash.com/photo-1600508774634-4e11d34730e2?w=800", label: "Private Offices" }
                ]
            },
            {
                id: 5,
                title: "Family House in Runda",
                location: "Runda, Nairobi",
                price: 35000000,
                bedrooms: 4,
                bathrooms: 3,
                area: 2800,
                type: "house",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=800",
                amenities: ["Garden", "Garage", "Security", "Modern Kitchen", "Dining Room", "Study Room"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1568605114967-8130f3a36994?w=800", label: "House Exterior" },
                    { url: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", label: "Living Room" },
                    { url: "https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=800", label: "Master Bedroom" },
                    { url: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800", label: "Kitchen" },
                    { url: "https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=800", label: "Dining Room" },
                    { url: "https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=800", label: "Study Room" },
                    { url: "https://images.unsplash.com/photo-1600573472592-401b489a3cdc?w=800", label: "Garden" }
                ]
            },
            {
                id: 6,
                title: "Penthouse in Kilimani",
                location: "Kilimani, Nairobi",
                price: 28000000,
                bedrooms: 3,
                bathrooms: 3,
                area: 2200,
                type: "penthouse",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",
                amenities: ["Swimming Pool", "Gym", "Security", "Modern Kitchen", "Balcony", "Parking"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800", label: "Penthouse View" },
                    { url: "https://images.unsplash.com/photo-1600607687644-aac4c3eac7f4?w=800", label: "Living Area" },
                    { url: "https://images.unsplash.com/photo-1616137466211-f939a420be84?w=800", label: "Master Bedroom" },
                    { url: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800", label: "Modern Kitchen" },
                    { url: "https://images.unsplash.com/photo-1600210491892-03d54c0aaf87?w=800", label: "Balcony" },
                    { url: "https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=800", label: "Gym" }
                ]
            },
            {
                id: 7,
                title: "Townhouse in Lavington",
                location: "Lavington, Nairobi",
                price: 22000000,
                bedrooms: 3,
                bathrooms: 2,
                area: 2000,
                type: "house",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800",
                amenities: ["Garden", "Security", "Modern Kitchen", "Dining Room", "Garage"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800", label: "Townhouse Front" },
                    { url: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", label: "Living Space" },
                    { url: "https://images.unsplash.com/photo-1540518614846-7eded433c457?w=800", label: "Bedroom" },
                    { url: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800", label: "Kitchen" },
                    { url: "https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=800", label: "Dining Room" }
                ]
            },
            {
                id: 8,
                title: "Lakeside Villa in Kisumu",
                location: "Kisumu",
                price: 32000000,
                bedrooms: 4,
                bathrooms: 3,
                area: 3000,
                type: "villa",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800",
                amenities: ["Lake View", "Garden", "Security", "Modern Kitchen", "Dining Room", "Boat Dock"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800", label: "Lake View" },
                    { url: "https://images.unsplash.com/photo-1600607687920-4e2a09cf159d?w=800", label: "Villa Exterior" },
                    { url: "https://images.unsplash.com/photo-1600566752355-35792bedcfea?w=800", label: "Living Room" },
                    { url: "https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=800", label: "Bedroom" },
                    { url: "https://images.unsplash.com/photo-1556911220-bff31c812dba?w=800", label: "Kitchen" },
                    { url: "https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=800", label: "Dining Room" },
                    { url: "https://images.unsplash.com/photo-1566073771259-6a8506099945?w=800", label: "Boat Dock" }
                ]
            },
            {
                id: 9,
                title: "Apartment in Nyali",
                location: "Nyali, Mombasa",
                price: 15000000,
                bedrooms: 2,
                bathrooms: 2,
                area: 1500,
                type: "apartment",
                status: "for-rent",
                image: "https://images.unsplash.com/photo-1502672260066-6bc35f0a1f80?w=800",
                amenities: ["Swimming Pool", "Security", "Modern Kitchen", "Balcony", "Parking"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1502672260066-6bc35f0a1f80?w=800", label: "Apartment View" },
                    { url: "https://images.unsplash.com/photo-1600585154363-67eb9e2e2099?w=800", label: "Living Room" },
                    { url: "https://images.unsplash.com/photo-1540518614846-7eded433c457?w=800", label: "Bedroom" },
                    { url: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800", label: "Kitchen" },
                    { url: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=800", label: "Bathroom" },
                    { url: "https://images.unsplash.com/photo-1600210491892-03d54c0aaf87?w=800", label: "Balcony" }
                ]
            },
            {
                id: 10,
                title: "Commercial Office in CBD",
                location: "CBD, Nairobi",
                price: 12000000,
                bedrooms: 0,
                bathrooms: 3,
                area: 1800,
                type: "office",
                status: "for-rent",
                image: "https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=800",
                amenities: ["Security", "Parking", "Reception Area", "Meeting Rooms", "Elevator"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1497366811353-6870744d04b2?w=800", label: "Office Space" },
                    { url: "https://images.unsplash.com/photo-1497366754035-f200968a6e72?w=800", label: "Reception" },
                    { url: "https://images.unsplash.com/photo-1524758631624-e2822e304c36?w=800", label: "Meeting Room" },
                    { url: "https://images.unsplash.com/photo-1600508774634-4e11d34730e2?w=800", label: "Private Office" }
                ]
            },
            {
                id: 11,
                title: "Mansion in Muthaiga",
                location: "Muthaiga, Nairobi",
                price: 85000000,
                bedrooms: 7,
                bathrooms: 6,
                area: 5500,
                type: "house",
                status: "for-sale",
                image: "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800",
                amenities: ["Swimming Pool", "Garden", "Garage", "Security", "Modern Kitchen", "Dining Room", "Home Theater", "Gym"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800", label: "Mansion Exterior" },
                    { url: "https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=800", label: "Grand Living Room" },
                    { url: "https://images.unsplash.com/photo-1616594039964-ae9021a400a0?w=800", label: "Master Suite" },
                    { url: "https://images.unsplash.com/photo-1556911220-bff31c812dba?w=800", label: "Gourmet Kitchen" },
                    { url: "https://images.unsplash.com/photo-1600607687644-c7171b42498b?w=800", label: "Formal Dining" },
                    { url: "https://images.unsplash.com/photo-1620626011761-996317b8d101?w=800", label: "Luxury Bathroom" },
                    { url: "https://images.unsplash.com/photo-1571902943202-507ec2618e8f?w=800", label: "Home Gym" },
                    { url: "https://images.unsplash.com/photo-1600585154526-990dced4db0d?w=800", label: "Pool & Garden" }
                ]
            },
            {
                id: 12,
                title: "Studio Apartment in Parklands",
                location: "Parklands, Nairobi",
                price: 6500000,
                bedrooms: 1,
                bathrooms: 1,
                area: 650,
                type: "apartment",
                status: "for-rent",
                image: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800",
                amenities: ["Security", "Modern Kitchen", "Parking"],
                roomImages: [
                    { url: "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=800", label: "Studio Layout" },
                    { url: "https://images.unsplash.com/photo-1502672260066-6bc35f0a1f80?w=800", label: "Living Area" },
                    { url: "https://images.unsplash.com/photo-1556909114-f6e7ad7d3136?w=800", label: "Kitchenette" },
                    { url: "https://images.unsplash.com/photo-1584622650111-993a426fbf0a?w=800", label: "Bathroom" }
                ]
            }
        ];

        // Fetch properties from API or use sample data
        async function fetchProperties() {
            try {
                // Assuming a local API endpoint for properties
                const res = await fetch('http://localhost:3000/homes');
                properties = await res.json();
            } catch (err) {
                console.log('[v0] Using sample data as API is not available');
                properties = sampleProperties;
            }
            filteredProperties = properties;
            renderProperties();
            updatePropertyCount();
        }

        // Format price in Kenyan Shillings
        function formatPrice(price) {
            if (price >= 1000000) {
                return `KES ${(price / 1000000).toFixed(1)}M`;
            }
            return `KES ${price.toLocaleString()}`;
        }

        // Render properties
        function renderProperties() {
            const container = document.getElementById('properties-container');
            if (!filteredProperties.length) {
                container.innerHTML = `<div class="col-12 text-center text-muted py-5">
                    <i class="fas fa-home fa-3x mb-3"></i>
                    <p>No properties found matching your criteria.</p>
                </div>`;
                return;
            }
            container.innerHTML = filteredProperties.map(property => `
                <div class="col-lg-4 col-md-6">
                    <div class="property-card">
                        <div class="property-image" style="background-image: url('${property.image}')">
                            <div class="property-badge">${property.status === 'for-sale' ? 'For Sale' : 'For Rent'}</div>
                            <div class="property-favorite" onclick="toggleFavorite(this, ${property.id})">
                                <i class="fas fa-heart"></i>
                            </div>
                        </div>
                        <div class="property-info">
                            <div class="property-price">${formatPrice(property.price)}</div>
                            <h5 class="property-title">${property.title}</h5>
                            <div class="property-address">
                                <i class="fas fa-map-marker-alt me-1"></i>${property.location}
                            </div>
                            <div class="property-features">
                                ${property.bedrooms > 0 ? `
                                <div class="feature-item">
                                    <i class="fas fa-bed feature-icon"></i>
                                    <span>${property.bedrooms} Beds</span>
                                </div>` : ''}
                                <div class="feature-item">
                                    <i class="fas fa-bath feature-icon"></i>
                                    <span>${property.bathrooms} Baths</span>
                                </div>
                                <div class="feature-item">
                                    <i class="fas fa-ruler-combined feature-icon"></i>
                                    <span>${property.area.toLocaleString()} sqft</span>
                                </div>
                                ${property.amenities && property.amenities.includes('Swimming Pool') ? `
                                <div class="feature-item">
                                    <i class="fas fa-swimming-pool feature-icon"></i>
                                    <span>Pool</span>
                                </div>` : ''}
                                ${property.amenities && property.amenities.includes('Garden') ? `
                                <div class="feature-item">
                                    <i class="fas fa-tree feature-icon"></i>
                                    <span>Garden</span>
                                </div>` : ''}
                                ${property.amenities && property.amenities.includes('Garage') ? `
                                <div class="feature-item">
                                    <i class="fas fa-car feature-icon"></i>
                                    <span>Garage</span>
                                </div>` : ''}
                            </div>
                            ${property.amenities && property.amenities.length > 0 ? `
                            <div class="property-amenities">
                                ${property.amenities.slice(0, 4).map(amenity => `
                                    <span class="amenity-badge">${amenity}</span>
                                `).join('')}
                                ${property.amenities.length > 4 ? `<span class="amenity-badge">+${property.amenities.length - 4} more</span>` : ''}
                            </div>` : ''}
                            <div class="mt-3">
                                <button class="btn-view-details w-100" onclick="openPropertyModal(${property.id})">View Details</button>
                            </div>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Update property count
        function updatePropertyCount() {
            document.getElementById('property-count').textContent = filteredProperties.length;
        }

        // Filtering logic
        function filterProperties() {
            const form = document.getElementById('property-search-form');
            const location = form.querySelector('input[name="location"]').value.trim().toLowerCase();
            const type = form.querySelector('select[name="type"]').value;
            const status = form.querySelector('select[name="status"]').value;
            const priceRange = form.querySelector('select[name="price"]').value;

            filteredProperties = properties.filter(p => {
                let matches = true;
                
                // Location filter
                if (location && !p.location.toLowerCase().includes(location)) matches = false;
                
                // Type filter
                if (type && p.type !== type) matches = false;
                
                // Status filter
                if (status && p.status !== status) matches = false;
                
                // Price range from dropdown
                if (priceRange) {
                    const [min, max] = priceRange.split('-');
                    if (max) {
                        if (p.price < parseInt(min) || p.price > parseInt(max)) matches = false;
                    } else if (min && min.endsWith('+')) {
                        if (p.price < parseInt(min)) matches = false;
                    }
                }
                
                return matches;
            });
            
            renderProperties();
            updatePropertyCount();
        }

        // Sorting logic
        document.getElementById('sort-properties').addEventListener('change', function() {
            const val = this.value;
            if (val === 'price-asc') filteredProperties.sort((a, b) => a.price - b.price);
            else if (val === 'price-desc') filteredProperties.sort((a, b) => b.price - a.price);
            else if (val === 'size-asc') filteredProperties.sort((a, b) => a.area - b.area);
            else if (val === 'size-desc') filteredProperties.sort((a, b) => b.area - a.area);
            else filteredProperties.sort((a, b) => b.id - a.id); // newest
            renderProperties();
        });

        // Search form filter
        document.getElementById('property-search-form').addEventListener('submit', function(e) {
            e.preventDefault();
            filterProperties();
        });

        // Toggle favorite
        function toggleFavorite(element, propertyId) {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            
            if (!user) {
                alert('Please login to save properties to favorites');
                window.location.href = 'login.html'; // Assuming you have a login page
                return;
            }
            
            element.classList.toggle('active');
            
            let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            
            if (element.classList.contains('active')) {
                if (!favorites.includes(propertyId)) {
                    favorites.push(propertyId);
                    localStorage.setItem('favorites', JSON.stringify(favorites));
                }
            } else {
                favorites = favorites.filter(id => id !== propertyId);
                localStorage.setItem('favorites', JSON.stringify(favorites));
            }
        }

        // Check authentication status and update navigation
        function checkAuthStatus() {
            const user = JSON.parse(localStorage.getItem('currentUser'));
            const authNav = document.getElementById('auth-nav'); // Assuming you have an element with this ID for auth links
            
            if (user) {
                authNav.innerHTML = `
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
                            <i class="fas fa-user me-1"></i>${user.name}
                        </a>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item" href="dashboard.html">Dashboard</a></li>
                            <li><a class="dropdown-item" href="profile.html">Profile</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" onclick="logout()">Logout</a></li>
                        </ul>
                    </li>
                `;
            } else {
                // If user is not logged in, show login/register links (or as per your design)
                // For this example, we assume the initial HTML had login/register links and we don't need to do anything here if they are static
                // If they are dynamically added, you might need to add them here.
            }
        }

        // Logout function
        function logout() {
            localStorage.removeItem('currentUser');
            window.location.reload(); // Reload the page to reflect the logged-out state
        }

        // Open property details modal
        function openPropertyModal(propertyId) {
            const property = properties.find(p => p.id === propertyId);
            if (!property) return;

            // Set property details
            document.getElementById('modalPropertyTitle').textContent = property.title;
            document.getElementById('modalPropertyLocation').textContent = property.location;
            document.getElementById('modalPropertyPrice').textContent = formatPrice(property.price);
            document.getElementById('modalPropertyStatus').textContent = property.status === 'for-sale' ? 'For Sale' : 'For Rent';

            // Set features
            const featuresHTML = `
                ${property.bedrooms > 0 ? `
                <div class="feature-box">
                    <i class="fas fa-bed"></i>
                    <span>${property.bedrooms} Bedrooms</span>
                </div>` : ''}
                <div class="feature-box">
                    <i class="fas fa-bath"></i>
                    <span>${property.bathrooms} Bathrooms</span>
                </div>
                <div class="feature-box">
                    <i class="fas fa-ruler-combined"></i>
                    <span>${property.area.toLocaleString()} sqft</span>
                </div>
                <div class="feature-box">
                    <i class="fas fa-home"></i>
                    <span>${property.type.charAt(0).toUpperCase() + property.type.slice(1)}</span>
                </div>
            `;
            document.getElementById('modalFeatures').innerHTML = featuresHTML;

            // Set amenities
            const amenitiesHTML = property.amenities.map(amenity => 
                `<span class="amenity-tag"><i class="fas fa-check me-2"></i>${amenity}</span>`
            ).join('');
            document.getElementById('modalAmenities').innerHTML = amenitiesHTML;

            // Set up gallery
            currentPropertyImages = property.roomImages || [{ url: property.image, label: "Property View" }];
            currentImageIndex = 0;
            updateGalleryDisplay();

            // Show modal
            const modal = new bootstrap.Modal(document.getElementById('propertyModal'));
            modal.show();
        }

        // Update gallery display (main image and thumbnails)
        function updateGalleryDisplay() {
            const mainImage = document.getElementById('galleryMainImage');
            const roomLabel = document.getElementById('roomLabel');
            const thumbnailsContainer = document.getElementById('galleryThumbnails');

            // Update main image
            mainImage.src = currentPropertyImages[currentImageIndex].url;
            roomLabel.textContent = currentPropertyImages[currentImageIndex].label;

            // Update thumbnails
            thumbnailsContainer.innerHTML = currentPropertyImages.map((img, index) => `
                <img src="${img.url}" 
                     alt="${img.label}" 
                     class="gallery-thumbnail ${index === currentImageIndex ? 'active' : ''}"
                     onclick="setGalleryImage(${index})">
            `).join('');
        }

        // Change gallery image with navigation buttons
        function changeGalleryImage(direction) {
            currentImageIndex += direction;
            if (currentImageIndex < 0) currentImageIndex = currentPropertyImages.length - 1;
            if (currentImageIndex >= currentPropertyImages.length) currentImageIndex = 0;
            updateGalleryDisplay();
        }

        // Set gallery image by clicking thumbnail
        function setGalleryImage(index) {
            currentImageIndex = index;
            updateGalleryDisplay();
        }

        /* Added animation functions for hero statistics */
        // Animate counting numbers
        function animateCounter(element, target, duration = 2000, suffix = '+') {
            let start = 0;
            const increment = target / (duration / 16); // Approximately 60 frames per second
            const timer = setInterval(() => {
                start += increment;
                if (start >= target) {
                    element.textContent = target + suffix;
                    clearInterval(timer);
                } else {
                    element.textContent = Math.floor(start) + suffix;
                }
            }, 16); // Update every 16ms
        }

        // Create floating heart animation
        function createLoveReaction(container) {
            const heart = document.createElement('div');
            heart.className = 'love-reaction';
            heart.innerHTML = '❤️';
            
            // Random position within the stat container
            const rect = container.getBoundingClientRect();
            // Position it within the container's width, starting from the top
            heart.style.left = Math.random() * rect.width + 'px';
            heart.style.top = '0px'; 
            
            container.style.position = 'relative'; // Ensure the container can hold absolutely positioned children
            container.appendChild(heart);
            
            // Remove the heart element after its animation completes
            setTimeout(() => {
                heart.remove();
            }, 2000); // Match the animation duration
        }

        // Initialize hero stats animation using IntersectionObserver
        function initHeroStatsAnimation() {
            const heroStatsWrapper = document.querySelector('.hero-stats-wrapper'); // Target the wrapper for better trigger
            const heroStats = document.querySelector('.hero-stats'); // Target the actual stats container
            let hasAnimated = false;

            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting && !hasAnimated) {
                        hasAnimated = true;
                        
                        // Get all stat numbers and their containers
                        const statNumbers = document.querySelectorAll('.stat-number');
                        const statContainers = document.querySelectorAll('.stat-item'); // Using .stat-item for potential random placement of hearts

                        // Animate each counter
                        if (statNumbers.length >= 3) {
                            animateCounter(statNumbers[0], 72000, 2000, '+'); // Happy Customers
                            animateCounter(statNumbers[1], 28000, 2000, '+'); // Top Property
                            animateCounter(statNumbers[2], 10, 2000, '+');    // Years Experience
                        }
                        
                        // Create love reactions at intervals for variety
                        const heartIntervals = [300, 600, 900, 1200, 1500, 1800]; // Delays in ms
                        heartIntervals.forEach(delay => {
                            setTimeout(() => {
                                // Randomly select a stat container to place the heart
                                const randomContainer = statContainers[Math.floor(Math.random() * statContainers.length)];
                                createLoveReaction(randomContainer);
                            }, delay);
                        });
                        
                        observer.disconnect(); // Stop observing once animation is triggered
                    }
                });
            }, { threshold: 0.5 }); // Trigger when 50% of the element is visible

            observer.observe(heroStatsWrapper); // Observe the wrapper to trigger when the stats section becomes visible
        }

        // Initialize page elements and data
        document.addEventListener('DOMContentLoaded', function() {
            fetchProperties(); // Load properties
            checkAuthStatus(); // Check user login status and update nav
            initHeroStatsAnimation(); // Start hero stats animation
            
            // Load and display existing favorites if any
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            if (favorites.length > 0) {
                // Use a small timeout to ensure properties are rendered before trying to find favorite elements
                setTimeout(() => {
                    favorites.forEach(id => {
                        const propertyFavoriteElements = document.querySelectorAll('.property-favorite');
                        propertyFavoriteElements.forEach(el => {
                            // Find the specific favorite button for this property ID
                            if (el.getAttribute('onclick') && el.getAttribute('onclick').includes(`${id})`)) {
                                el.classList.add('active');
                            }
                        });
                    });
                }, 100); // Delay in milliseconds
            }
        });
    </script>
</body>
</html>
